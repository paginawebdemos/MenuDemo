let _0x3d1b22=_0x6691;!function($,x){let e=_0x6691,a=$();for(;;)try{let t=parseInt(e(507))/1+parseInt(e(500))/2*(parseInt(e(489))/3)+-parseInt(e(497))/4*(parseInt(e(522))/5)+parseInt(e(509))/6+parseInt(e(490))/7*(-parseInt(e(496))/8)+-parseInt(e(542))/9+-parseInt(e(525))/10;if(742167===t)break;a.push(a.shift())}catch(i){a.push(a.shift())}}(_0x1da1,742167);import{initializeApp as $}from"https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js";import{getFirestore as x,collection as e,getDocs as a,addDoc as t,deleteDoc as i,doc as d}from"https://www.gstatic.com/firebasejs/11.1.0/firebase-firestore.js";let firebaseConfig={apiKey:_0x3d1b22(532),authDomain:_0x3d1b22(494),projectId:_0x3d1b22(534),storageBucket:_0x3d1b22(508),messagingSenderId:"915765095360",appId:"1:915765095360:web:689905fc5455bdbb76f625"},app=$(firebaseConfig),db=x(app),addDishForm=document[_0x3d1b22(520)](_0x3d1b22(511)),menuList=document.getElementById(_0x3d1b22(539)),dishPriceInput=document[_0x3d1b22(520)]("dish-price");async function uploadToCloudinary($){let x=_0x3d1b22,e=x(528),a=new FormData;a[x(529)]("file",$),a.append(x(543),"ml_default");try{let t=await fetch(e,{method:x(527),body:a}),i=await t.json();return i[x(498)]}catch(d){throw console[x(513)](x(540),d),d}}async function addDish($,x,a,i,d){await t(e(db,_0x3d1b22(536)),{name:$,category:x,price:"$"+a,img:i,description:d}),loadMenu()}function _0x6691($,x){let e=_0x1da1();return(_0x6691=function($,x){return e[$-=489]})($,x)}async function loadMenu(){let $=_0x3d1b22,x=await a(e(db,$(536)));menuList[$(491)]="",x[$(505)](x=>{let e=$,a=x.data(),t=document[e(514)](e(516));t[e(537)][e(530)](e(492)),t.innerHTML=e(538)+a[e(531)]+e(493)+a[e(533)]+e(523)+a[e(533)]+e(526)+a[e(510)]+"</p>\n            <p><strong>Categor\xeda:</strong> "+a[e(512)]+"</p>\n            <p><strong>Descripci\xf3n:</strong> "+a[e(521)]+"</p>\n            <button onclick=\"deleteDish('"+x.id+"')\">Eliminar</button>\n        ",menuList[e(503)](t)})}function _0x1da1(){let $=["menu-list","Error al subir la imagen:","value","3914118YjrJcD","upload_preset","3SOLPLd","2590cEMUwF","innerHTML","dish-card",'" alt="',"luna-5a497.firebaseapp.com","Error al agregar el plato. Int\xe9ntalo nuevamente.","11208vKrhfV","332CNyWUC","secure_url","preventDefault","2697864XGvkzS","submit","dish-name","appendChild","addEventListener","forEach","files","1362227doUpMV","luna-5a497.firebasestorage.app","6356112Nbzhxj","price","add-dish-form","category","error","createElement","deleteDish","div","reset","startsWith","trim","getElementById","description","76025qlHWXx",'" width="100">\n            <h5>',"Plato agregado correctamente.","8130570PDrPqT","</h5>\n            <p><strong>Precio:</strong> ","POST","https://api.cloudinary.com/v1_1/dmlex134e/image/upload","append","add","img","AIzaSyBIe6_4rj47XgSWHFVGpk04qB7JgOJIhrI","name","luna-5a497","dish-description","menu","classList",'\n            <img src="'];return(_0x1da1=function(){return $})()}window[_0x3d1b22(515)]=async function($){await i(d(db,_0x3d1b22(536),$)),loadMenu()},dishPriceInput[_0x3d1b22(504)]("blur",()=>{let $=_0x3d1b22;dishPriceInput[$(541)]&&!dishPriceInput[$(541)][$(518)]("$")&&(dishPriceInput[$(541)]="$"+dishPriceInput.value.trim())}),addDishForm.addEventListener(_0x3d1b22(501),async $=>{let x=_0x3d1b22;$[x(499)]();let e=document[x(520)](x(502))[x(541)],a=document.getElementById("dish-category")[x(541)],t=dishPriceInput[x(541)].replace("$","")[x(519)](),i=document.getElementById("dish-img-upload"),d=document[x(520)](x(535)).value,r=i[x(506)][0];if(!r){alert("Por favor, selecciona una imagen para el plato.");return}try{let _=await uploadToCloudinary(r);await addDish(e,a,t,_,d),addDishForm[x(517)](),alert(x(524))}catch(n){alert(x(495))}}),loadMenu(),loadMenu(),loadMenu(),loadMenu();